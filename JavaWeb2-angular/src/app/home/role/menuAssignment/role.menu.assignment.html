<div class="row">
    <div class="col-lg-12">
        <h3>系统管理-角色管理-模块分配</h3>
    </div>
</div>
<hr>
<div class="row">
    <div class="col-lg-3">
        角色：[{{roleName}}]的模块权限为：
    </div>
</div>
<div class="row">
    <div class="col-lg-3">
        <div *ngIf="roleModuleList!=null&&roleModuleList.length!=0">
            <div *ngFor="let i of roleModuleList">
                <input type="checkbox" [(ngModel)]="i.checkFlag"/><span>{{i.moduleName}}</span>
                <!-- 非递归，写死的 start -->
                <div *ngFor="let j of i.list">
                    <span style="visibility:hidden;">占位</span><input type="checkbox" [(ngModel)]="j.checkFlag"/><span>{{j.moduleName}}</span>
                    <div *ngFor="let k of j.list">
                        <span style="visibility:hidden;">占位占位</span><input type="checkbox" [(ngModel)]="k.checkFlag"/><span>{{k.moduleName}}</span>
                    </div>
                </div>
                <!-- 非递归，写死的 end -->
                <!-- 想用递归的，但是用后在父子组件通信中，子组件checkbox的值的改变无法影响到父组件roleModuleList里的checkbox的值
                <role-menuAssignmentRecursion *ngFor="let j of i.list" [checkFlag]="j.checkFlag" [moduleName]="j.moduleName" [moduleId]="j.moduleId" [list]="j.list"></role-menuAssignmentRecursion>
                -->
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-3">
        <div style="float:right;">
            <button class="btn" (click)="cancel()">取消</button>
            <button class="btn btn-success" (click)="save()">保存</button>
        </div>
    </div>
</div>

